---
interface Props {
	title: string;
}

import { ViewTransitions } from 'astro:transitions';
import LanguagePicker from '../components/LanguagePicker.astro';
import MainNav from '@components/MainNav.astro';
import { getLangFromUrl } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);

const { title }: Props = Astro.props;
---

<!doctype html>
<html lang={lang}>
	<head>
		<meta charset='UTF-8' />
		<meta name='description' content='Astro description' />
		<meta name='viewport' content='width=device-width' />
		<link rel='icon' type='image/svg+xml' href='/favicon.svg' />
		<meta name='generator' content={Astro.generator} />
		<title>{title}</title>
		<ViewTransitions />
	</head>
	<body>
		<header>
			<MainNav />
		</header>
		<main class='main'>
			<slot />
		</main>
		<footer>
			<LanguagePicker />
		</footer>
		<style is:global>
			*,
			*::after,
			*::before {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			html {
				font-family: system-ui, sans-serif;
				background: #27262b;
				color: #a1a1a8;
				color-scheme: dark light;
			}

			body {
				font-family:
					system-ui,
					-apple-system,
					BlinkMacSystemFont,
					'Segoe UI',
					Roboto,
					Oxygen,
					Ubuntu,
					Cantarell,
					'Open Sans',
					'Helvetica Neue',
					sans-serif;
				font-size: 16px;
			}
			a {
				text-decoration: none;
				color: currentColor;
			}
			header,
			.main,
			footer {
				width: min(100% - 2.5rem, 75rem);
				margin-inline: auto;
			}
			header,
			footer {
				min-height: 4rem;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			.main {
				min-height: calc(100vh - 8rem);
				display: grid;
				place-items: center;
			}
			h1,
			h2,
			h3,
			h4,
			h5,
			h6 {
				text-wrap: pretty;
			}

			p + p {
				margin-top: 2rem;
			}
		</style>
	</body>
</html>
